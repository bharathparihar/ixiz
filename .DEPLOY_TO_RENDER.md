# Deploying Laravel to Render.com with Docker (Free Forever)

This guide will walk you through hosting your Laravel application on Render.com using Docker for free. To keep it "free forever", we will use Render's Free Web Service tier and a free external PostgreSQL database, as Render's native free database is limited to 90 days.

## Prerequisites

1.  **GitHub or GitLab Account**: To store your code.
2.  **Render.com Account**: To host the application.
3.  **Neon.tech Account** (or Supabase): For a free, persistent PostgreSQL database.

## Step 1: Prepare Your Application

We have already created the necessary Docker configuration files for you:
*   `Dockerfile`: Instructions to build your Laravel app image.
*   `.dockerignore`: Files to exclude from the image.
*   `render.yaml`: Configuration for Render.
*   `docker-entrypoint.sh`: Startup script to run migrations.

### 1.1 Verify Configuration
Ensure your `composer.json` requirements match the `Dockerfile` (PHP 8.2). Our setup uses PHP 8.2 which is compatible with Laravel 10+.

### 1.2 Push to GitHub/GitLab
Create a new repository and push your code.

```bash
git init
git add .
git commit -m "Initial commit with Docker config"
# Add your remote origin
# git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git
git push -u origin main
```

## Step 2: Set Project to Production Mode

In your `render.yaml`, environment variables are set for production.

**Note:** You need to generate an `APP_KEY`. Run this command in your local terminal and save the output:
```bash
php artisan key:generate --show
```
You will need this key in Step 4.

## Step 3: Set Up a Free Database

Since Render's free database expires after 90 days, use **Neon.tech** for a permanently free PostgreSQL database.

1.  Sign up at [Neon.tech](https://neon.tech).
2.  Create a new project.
3.  Copy the **Connection String** (Postgres URL). It looks like: `postgres://user:password@ep-xyz.region.aws.neon.tech/neondb?sslmode=require`.

## Step 4: Deploy on Render

1.  Log in to the [Render Dashboard](https://dashboard.render.com/).
2.  Click **New +** and select **Blueprints**.
3.  Connect your GitHub/GitLab account and select your repository.
4.  Render will detect the `render.yaml` file.
5.  It will prompt you for the `APP_KEY` and Database details (Environment Variables).

### Configure Environment Variables
Fill in the values in the Render dashboard prompt:

*   **APP_KEY**: Paste the key you generated in Step 2 (e.g., `base64:xyz...`).
*   **DB_CONNECTION**: `pgsql` (Default is set in `render.yaml`).
*   **DB_HOST**: The host from your Neon connection string (e.g., `ep-xyz.aws.neon.tech`).
*   **DB_PORT**: `5432`.
*   **DB_DATABASE**: The database name (e.g., `neondb`).
*   **DB_USERNAME**: The user from connection string.
*   **DB_PASSWORD**: The password from connection string.
*   **DB_SSLMODE**: `require` (Important for external DBs).

**Note:** If `render.yaml` doesn't automatically ask for all of these, you can add them manually in the **Environment** tab after the service is created.

6.  Click **Apply**.

## Step 5: Finalize Deployment

Render will now:
1.  Clone your repo.
2.  Build the Docker image using `Dockerfile`.
3.  Deploy the service.
4.  Run `docker-entrypoint.sh` which executes `php artisan migrate --force` to set up your database tables.

Once valid, your app will be live at `https://vcards-xxxx.onrender.com`.

## Important Notes on Free Tier
*   **Spin Down:** The free Web Service on Render spins down after 15 minutes of inactivity. The first request after a while will take ~30-60 seconds to load. This is normal for the free tier.
*   **Database:** By using Neon.tech, your data is safe and won't be deleted after 90 days.
*   **Storage:** The filesystem is **ephemeral**. Any files uploaded to `storage/` (like user avatars) will be lost when the app restarts/redeploys.
    *   **Solution:** Use an external storage service like **AWS S3** or **Cloudinary** for file uploads. You can configure this in `.env` (Environment Variables on Render).

## Troubleshooting
*   **500 Error**: Check the **Logs** tab in Render. It usually means a missing environment variable (like `APP_KEY` or DB credentials).
*   **Database Connection Failed**: Ensure `DB_SSLMODE` is set to `require` if using Neon.

`.\resources\views\front\home\home4.blade.php`
`.\resources\views\front\layouts\footer4.blade.php`
`.\resources\views\layouts\menu.blade.php`

`.\config\infyom\` (Unnecessary Folder)

`.\database\infy-vcards.sql`

`.\public\assets\images\infyom-logo.png`
`.\public\assets\images\infyom-logo60x60.png`
`.\public\assets\images\infyom-logo60x60_old.png`
`.\public\assets\images\infyom-logo_old.png`
`.\public\web\media\logos\favicon-infyom.png`
`.\public\web\media\logos\favicon-infyom_old.png`
`.\public\web\media\logos\infyom.png`

`.\public\uploads\whatsapp-cover-image\4\infyom-logo.png`
`.\public\uploads\whatsapp-logo\3\infyom-logo60x60.png`

`.\public\assets\css\vcard1.css`
`.\resources\views\vcards\vcard1.blade.php`
`.\app\Livewire\TemplateTable.php`

`.\ixiz\` (Unnecessary Backup Folder)

---
### üóëÔ∏è Extra Files to Delete for Hostinger (Save Space)
Because you are deploying to shared hosting like **Hostinger**, you should delete these files and folders to keep your storage usage low. They are either developer tools, cached files, or test data that are NOT needed for a live website:

**Unnecessary Folders:**
*   `.\tests\` (Developer testing scripts)
*   `.\node_modules\` (If it exists, this contains large local CSS/JS compilers)
*   `.\.git\` (Version control history - deletes a huge amount of unnecessary data)
*   `.\.idea\` or `.\.vscode\` (Local code editor configurations)
*   `.\ixiz\` (Unnecessary Backup Folder)

**Unnecessary Files:**
*   `.\routes.json` (A 500KB+ cached file that Laravel regenerates automatically)
*   `.\storage\logs\laravel.log` (Clear this file or delete it so you start with fresh logs on your server)
*   `.\phpunit.xml` (Testing configuration)
*   `.\docker-compose.yml`, `.\Dockerfile`, `.\.dockerignore` (If you are using Hostinger's standard cPanel/hPanel, you don't need Docker files)
*   `.\RENDER_DEPLOYMENT_GUIDE.md` and `.\.DEPLOY_TO_RENDER.md` (You can delete these documentation files before uploading your `.zip` to Hostinger)

Do NOT Delete These (Required for the Website to Work)
.\app\ (Contains all the main PHP Logic & Controllers)
.\bootstrap\ (Loads the framework)
.\config\ (Configuration files for your application)
.\lang\ (Language and translation files)
.\Modules\ (Add-ons like Slack Integration)
.\public\ (The only folder the internet sees ‚Äì contains CSS, JS, and user uploads)
.\resources\ (Contains views/blade files and raw frontend assets)
.\routes\ (All your web URLs and API endpoints)
.\storage\ (Stores framework generated files, logs, and compiled views)
.\vendor\ (Contains all the backend Composer dependencies/libraries)
üü¢ Safe to Delete for Hostinger (Not Needed on Live Server)
.\.database\ (Wait, you renamed your database folder to .database. If you still need to run migrations to set up your tables on Hostinger, do not delete this. If it's already set up via a SQL file, then it is safe to delete)
.\.git\ (Hidden folder containing your local version control history - takes up a lot of space and is completely unnecessary on the remote server)
.\.tests\ (Hidden folder used for developer automated testing - you renamed this recently from tests)
(I noticed you successfully deleted the ixiz and node_modules folders already since they no longer appear in the list!)